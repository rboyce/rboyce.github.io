<!DOCTYPE html>
<html>
<head>
	<title>Content-filled dialog nubs in CSS</title>
	<link rel="stylesheet" href="example.css" />
	<script src="web-animations.js"></script>
	<script src="prefixfree.min.js"></script>
	<script src="utils.js"></script>
	<script src="content-nub-slideshow.js"></script>
</head>
<body>

<figure id="example">
	<div class="card-example">
  	<div class="card-example-grid"></div>
		<section class="card">
			<div class="card-nub">
				<div class="card-nub-clip">
					<div class="card-nub-pic"></div>
				</div>
			</div>
			<div class="card-nub-content-copy"></div>
			<div class="card-content">
				<div class="card-profile-pic"></div>
				<h1>
					Robert Boyce
				</h1>
			</div>
		</section>
	</div>
</figure>

<script>
	
	var steps = initAnimations();
	var i = 0;
	var direction = 1;
	var firstPass = true;
	
  document.getElementById('example').addEventListener('click', function() {
  	if (i >= steps.length || i < 0) {
			direction = -1 * direction;
  	  i += direction;
  	  firstPass = false;
  	  var labels = document.querySelectorAll('.segment, .segment-label');
  	  console.log(labels);
  	  labels.forEach(function(label) {
    	  label.style.display = 'none';
  	  });
		}
  	console.log('play '+i);
  	var step = steps[i];
  	if (!firstPass) {
  	  invertAnimationDirection(step);
  	}
	  document.timeline.play(step);
	  i += direction;
  });

</script>
</body>
</html>